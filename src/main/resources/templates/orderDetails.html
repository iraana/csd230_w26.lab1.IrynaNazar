<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Order Confirmation</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>
<body>

<h1>Order Confirmation</h1>

<p><strong>Order ID:</strong> <span th:text="${order.id}"></span></p>
<p><strong>Order Date:</strong> <span th:text="${order.orderDate}"></span></p>
<p><strong>Total Paid:</strong> $<span th:text="${order.totalAmount}"></span></p>

<h2>Items Purchased</h2>

<ul>
    <li th:each="product : ${order.products}">

        <!-- BOOK / PUBLICATION -->
        <span th:if="${product instanceof T(csd230.lab1.entities.PublicationEntity)}">
            <strong th:text="${product.title}"></strong>
            — $<span th:text="${product.price}"></span><br/>
            <small>
                <b>Author:</b> <span th:text="${product.author}"></span>,
                <b>ISBN:</b> <span th:text="${product.isbn}"></span>
            </small>
        </span>

        <!-- NON-BOOK PRODUCTS -->
        <span th:unless="${product instanceof T(csd230.lab1.entities.PublicationEntity)}">
            <strong th:text="${product.productType}"></strong>
            — $<span th:text="${product.price}"></span>
        </span>

    </li>
</ul>

<br/>
<a th:href="@{/books}" class="action">Back to Shopping</a>

</body>
</html>
